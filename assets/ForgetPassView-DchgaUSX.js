import{l as x,d as p,u as b,a as w,r as _,b as f,e as u,o as c,w as v,f as m,g as y,h as d,t as k,i as V,j as B}from"./index-CQSWO8Li.js";import{I as C}from"./Input-G0PGgnkO.js";import{B as N,_ as P}from"./Button-DeOwv_UT.js";const F=()=>{const r=x(),s=(e,t="info",l)=>{const a={timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1,...l};switch(t){case"success":r.success(e,a);break;case"error":r.error(e,a);break;case"warning":r.warning(e,a);break;default:r.info(e,a);break}};return{showToast:s,success:(e,t)=>s(e,"success",t),error:(e,t)=>s(e,"error",t),info:(e,t)=>s(e,"info",t),warning:(e,t)=>s(e,"warning",t)}},O={key:0,class:"px-4 py-3.5 rounded-lg text-sm bg-red-50 text-red-600 border border-red-200"},S=p({__name:"ForgotPassForm",setup(r){const s=b(),e=w(),{showToast:t}=F(),l=_({email:""}),a=f(!1),n=f(""),g=async()=>{n.value="",a.value=!0;try{const i=await e.forgotPassword({email:l.email});i?.success?(t("Mã xác thực đã được gửi tới email của bạn. Vui lòng kiểm tra hộp thư!","success"),s.push("/login")):n.value=i?.message||"Gửi mail thất bại"}catch(i){n.value=i.message||"Có lỗi xảy ra, vui lòng thử lại"}finally{a.value=!1}};return(i,o)=>(c(),u("form",{onSubmit:v(g,["prevent"]),class:"w-full max-w-md flex flex-col gap-5"},[o[2]||(o[2]=m("h2",{class:"text-3xl font-bold text-gray-900 text-center"},"Quên mật khẩu",-1)),o[3]||(o[3]=m("p",{class:"text-gray-600 text-center -mt-2"},"Nhập email để lấy lại mật khẩu",-1)),n.value?(c(),u("div",O,k(n.value),1)):y("",!0),d(C,{id:"email",modelValue:l.email,"onUpdate:modelValue":o[0]||(o[0]=h=>l.email=h),label:"Email",type:"email",placeholder:"Nhập email",required:""},null,8,["modelValue"]),d(N,{type:"submit",variant:"primary",loading:a.value,"custom-class":"w-full mt-2"},{default:V(()=>[...o[1]||(o[1]=[B(" Đặt lại mật khẩu ",-1)])]),_:1},8,["loading"])],32))}}),T={class:"min-h-screen flex items-center justify-center bg-linear-to-br from-blue-50 to-indigo-100 px-4"},I={class:"w-full max-w-md"},M=p({__name:"ForgetPassView",setup(r){return(s,e)=>(c(),u("div",T,[m("div",I,[d(S)])]))}}),E=P(M,[["__scopeId","data-v-92221703"]]);export{E as default};
